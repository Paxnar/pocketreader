import bytereaders


def decodeCharacter(character: int):
    if character <= 0x01F0:
        return \
            ['â€', ' ', 'ã', 'ã‚', 'ãƒ', 'ã„', 'ã…', 'ã†', 'ã‡', 'ãˆ', 'ã‰', 'ãŠ', 'ã‹', 'ãŒ', 'ã', 'ã', 'ã', 'ã', 'ã‘', 'ã’', 'ã“',
             'ã”', 'ã•', 'ã–', 'ã—', 'ã˜', 'ã™', 'ãš', 'ã›', 'ãœ', 'ã', 'ã', 'ãŸ', 'ã ', 'ã¡', 'ã¢', 'ã£', 'ã¤', 'ã¥', 'ã¦', 'ã§', 'ã¨',
             'ã©',
             'ãª', 'ã«', 'ã¬', 'ã­', 'ã®', 'ã¯', 'ã°', 'ã±', 'ã²', 'ã³', 'ã´', 'ãµ', 'ã¶', 'ã·', 'ã¸', 'ã¹', 'ãº', 'ã»', 'ã¼', 'ã½', 'ã¾',
             'ã¿',
             'ã‚€', 'ã‚', 'ã‚‚', 'ã‚ƒ', 'ã‚„', 'ã‚…', 'ã‚†', 'ã‚‡', 'ã‚ˆ', 'ã‚‰', 'ã‚Š', 'ã‚‹', 'ã‚Œ', 'ã‚', 'ã‚', 'ã‚’', 'ã‚“', 'ã‚¡', 'ã‚¢', 'ã‚£', 'ã‚¤',
             'ã‚¥',
             'ã‚¦', 'ã‚§', 'ã‚¨', 'ã‚©', 'ã‚ª', 'ã‚«', 'ã‚¬', 'ã‚­', 'ã‚®', 'ã‚¯', 'ã‚°', 'ã‚±', 'ã‚²', 'ã‚³', 'ã‚´', 'ã‚µ', 'ã‚¶', 'ã‚·', 'ã‚¸', 'ã‚¹', 'ã‚º',
             'ã‚»',
             'ã‚¼', 'ã‚½', 'ã‚¾', 'ã‚¿', 'ãƒ€', 'ãƒ', 'ãƒ‚', 'ãƒƒ', 'ãƒ„', 'ãƒ…', 'ãƒ†', 'ãƒ‡', 'ãƒˆ', 'ãƒ‰', 'ãƒŠ', 'ãƒ‹', 'ãƒŒ', 'ãƒ', 'ãƒ', 'ãƒ', 'ãƒ',
             'ãƒ‘',
             'ãƒ’', 'ãƒ“', 'ãƒ”', 'ãƒ•', 'ãƒ–', 'ãƒ—', 'ãƒ˜', 'ãƒ™', 'ãƒš', 'ãƒ›', 'ãƒœ', 'ãƒ', 'ãƒ', 'ãƒŸ', 'ãƒ ', 'ãƒ¡', 'ãƒ¢', 'ãƒ£', 'ãƒ¤', 'ãƒ¥', 'ãƒ¦',
             'ãƒ§',
             'ãƒ¨', 'ãƒ©', 'ãƒª', 'ãƒ«', 'ãƒ¬', 'ãƒ­', 'ãƒ¯', 'ãƒ²', 'ãƒ³', 'ï¼', 'ï¼‘', 'ï¼’', 'ï¼“', 'ï¼”', 'ï¼•', 'ï¼–', 'ï¼—', 'ï¼˜', 'ï¼™', 'ï¼¡', 'ï¼¢',
             'ï¼£',
             'ï¼¤', 'ï¼¥', 'ï¼¦', 'ï¼§', 'ï¼¨', 'ï¼©', 'ï¼ª', 'ï¼«', 'ï¼¬', 'ï¼­', 'ï¼®', 'ï¼¯', 'ï¼°', 'ï¼±', 'ï¼²', 'ï¼³', 'ï¼´', 'ï¼µ', 'ï¼¶', 'ï¼·', 'ï¼¸',
             'ï¼¹',
             'ï¼º', 'ï½', 'ï½‚', 'ï½ƒ', 'ï½„', 'ï½…', 'ï½†', 'ï½‡', 'ï½ˆ', 'ï½‰', 'ï½Š', 'ï½‹', 'ï½Œ', 'ï½', 'ï½', 'ï½', 'ï½', 'ï½‘', 'ï½’', 'ï½“', 'ï½”',
             'ï½•',
             'ï½–', 'ï½—', 'ï½˜', 'ï½™', 'ï½š', '', 'ï¼', 'ï¼Ÿ', 'ã€', 'ã€‚', 'â€¦', 'ãƒ»', 'ï¼', 'ã€Œ', 'ã€', 'ã€', 'ã€', 'ï¼ˆ', 'ï¼‰', 'â™‚', 'â™€',
             'ï¼‹',
             'ãƒ¼', 'Ã—', 'Ã·', 'ï¼', 'ï½', 'ï¼š', 'ï¼›', 'ï¼', 'ï¼Œ', 'â™ ', 'â™£', 'â™¥', 'â™¦', 'â˜…', 'â—', 'â—‹', 'â–¡', 'â–³', 'â—‡', 'ï¼ ', 'â™ª',
             'ï¼…',
             'â˜€', 'â˜', 'â˜‚', 'â˜ƒ', 'ğŸ™‚', 'ğŸ˜„', 'â˜¹', 'ğŸ˜ ', 'â¬†', 'â¬‡', 'Zz', 'å††', 'ğŸ‘', 'ğŸ”‘', 'ğŸ’¿', 'âœ‰', 'ğŸ’Š', 'ğŸ’', 'ğŸ”®',
             'ğŸ’¥',
             'â†', 'â†‘', 'â†“', 'â†’', 'â–º',
             'ï¼†', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',
             'K',
             'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',
             'g',
             'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'Ã€', 'Ã',
             'Ã‚',
             'Ãƒ', 'Ã„', 'Ã…', 'Ã†', 'Ã‡', 'Ãˆ', 'Ã‰', 'ÃŠ', 'Ã‹', 'ÃŒ', 'Ã', 'Ã', 'Ã', 'Ã', 'Ã‘', 'Ã’', 'Ã“', 'Ã”', 'Ã•', 'Ã–', 'Ã—',
             'Ã˜',
             'Ã™', 'Ãš', 'Ã›', 'Ãœ', 'Ã', 'Ã', 'ÃŸ', 'Ã ', 'Ã¡', 'Ã¢', 'Ã£', 'Ã¤', 'Ã¥', 'Ã¦', 'Ã§', 'Ã¨', 'Ã©', 'Ãª', 'Ã«', 'Ã¬', 'Ã­',
             'Ã®',
             'Ã¯', 'Ã°', 'Ã±', 'Ã²', 'Ã³', 'Ã´', 'Ãµ', 'Ã¶', 'Ã·', 'Ã¸', 'Ã¹', 'Ãº', 'Ã»', 'Ã¼', 'Ã½', 'Ã¾', 'Ã¿', 'Å’', 'Å“', 'Å', 'ÅŸ',
             'Âª',
             'Âº', 'er', 're', 'r', 'P', 'Â¡', 'Â¿', '!', '?', ',', '.', 'â€¦', 'ï½¥', '/', 'â€˜', 'â€™', 'â€œ', 'â€', 'â€', 'Â«', 'Â»',
             '(',
             ')', 'â™‚', 'â™€', '+', '-', '*', '#', '=', '&', '~', ':', ';', 'â™ ', 'â™£', 'â™¥', 'â™¦', 'â˜…', 'â—', 'â—‹', 'â–¡', 'â–³',
             'â—‡',
             '@', 'â™ª', '%', 'â˜€', 'â˜', 'â˜‚', 'â˜ƒ', 'ğŸ™‚', 'ğŸ˜„', 'â˜¹', 'ğŸ˜ ', 'â¬†', 'â¬‡', 'Zz', ' ', 'e', 'PK', 'MN', ' ', ' ',
             ' ', ' ', ' ', ' ', 'Â°', '_', 'ï¼¿', 'â€¤', 'â€¥', '', '', ''][character]


def get_player_name(data, offset):
    name = ''
    for i in range(8):
        letter = bytereaders.read16(data, offset + i * 2)
        if letter == 65535:
            break
        name += decodeCharacter(letter)
    return name
